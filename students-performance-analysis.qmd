---
title: "Assignment 3"
format:
  html:
    toc: true 
    toc-depth: 2         
    number-sections: true  
    fig-cap-location: bottom 
    warning: False 
    message: False
    code-block-bg: true 
editor: visual
fontsize: 11pt
---

# Investigating the relationship between student's academic performance and lifestyle habits

## Executive summary

## Introduction

## Methodology

Loading required libraries

```{r}
#| label: Loading the required libraries 

library("here")
library("tidyverse")
library("ggplot2")
library("ggcorrplot")
library('readr')
library('corrplot')
library('tinytex')
```

Reading in the data

```{r}
#| label: reading the data set for the first time 

data <- read_csv(here("data/student_habits_performance.csv"))

```

### Investigating 'good' habits

**Methodology**

We conducted a correlation analysis using numeric variables from our dataset to investigate the relationship between 'good' student lifestyle habits and academic performance. Specifically, we focused on three indicators of good lifestyle habits: `study_hours_per_day` , `attendance_percentage` , and `sleep_hours` , alongside the outcome variable `exam_score`.

First, we filtered the dataset to retain these four variables that are related to our analysis. Then, we computed a Pearson correlation matrix and accounted for any missing values. We then visualised the correlation between `exam_score` and the other predictive variables in order to aid our analysis of which study habits are most strongly correlated with academic success.

```{r}
#| echo: false
#| warning: false
#| message: false
#| label: cleaning the dataset a bit for further processing 
data_clean <- data |>
  rename(
    Study = study_hours_per_day,
    Attendance = attendance_percentage,
    Sleep = sleep_hours,
    Score = exam_score
  )
```

```{r}
#| label: good-habits-correlation
#| fig-cap: "Figure 1: Correlation matrix of student habits and exam scores"

# Selecting relevant variables 
good_habits <- data |>
  select(
    study_hours_per_day,
    attendance_percentage,
    sleep_hours,
    exam_score
  )

# Creating a correlation matrix for these variables 
good_cor_matrix <- good_habits |>
  cor(use = "complete.obs")

# Visualising correlation to good habits 
ggcorrplot(
  good_cor_matrix,
  method = "circle",
  type = "lower",
  lab = TRUE,
  lab_size = 4,
  title = "Correlation of Study Habits with Exam Score"
)
```

```{r}
#| label: bubble-corrplot
#| fig-cap: "Figure 2: Bubble-style correlation matrix of student habits and exam score"

# Correlation matrix
bubble_corr <- data_clean |>
  select(Study, Attendance, Sleep, Score) |>
  cor(use = "complete.obs")

# Bubble matrix plot
corrplot(
  bubble_corr,
  method = "circle",
  type = "lower",
  order = "original",
  tl.col = "black",
  tl.srt = 45,
  col = colorRampPalette(c("#d73027", "white", "#1E90FF"))(200),
  addCoef.col = "black",
  number.cex = 0.8,
  diag = FALSE
)
```

REASONING: The above shows a bubble-style correlation matrix showing the relationships between key student habits (Study, Attendance, and Sleep) and their final exam scores. The size and color of each circle represent the strength and direction of correlation between variable pairs.

Stronger positive relationships appear as large blue circles, while stronger negative relationships are large red circles. For instance, Study shows a strong positive correlation with Score, indicating that increased study hours are closely associated with better exam performance. In contrast, Sleep and Attendance show very weak or negligible correlations with Score, suggesting minimal impact in this dataset.

This visual summary helps quickly identify which student behaviors are most closely aligned with academic outcomes.

### Investigating 'bad' habits

**Methodology** To investigate the relationship between 'bad' student lifestyle habits and academic performance, we continued our correlation analysis using numeric variables from the dataset. Specifically, we focused on two indicators of poor lifestyle habits: `social_media_hours` and `netflix_hours`, along with the outcome variable `exam_score`.

First, we filtered the dataset to retain the three variables relevant to this analysis. Then, we computed a Pearson correlation matrix while accounting for any missing values. Finally, we visualised the correlation between `exam_score` and the other predictive variables to help identify which negative habits are most strongly associated with academic success.

```{r}
#| label: bad-habits-correlation
#| fig-cap: "Figure 3: Correlation matrix of bad habits and exam scores"

# Selecting relevant variables 
bad_habits <- data |>
  select(
    social_media_hours,
    netflix_hours,
    exam_score
  )

# Creating a correlation matrix for these variables
bad_cor_matrix <- bad_habits |>
  cor(use = "complete.obs")

# Visualising correlation to good habits
ggcorrplot(
  bad_cor_matrix,
  method = "circle",
  type = "lower",
  lab = TRUE,
  lab_size = 4,
  title = "Correlation of Bad Habits with Exam Score"
)
```

```{r}
#| label: bad-habits-bubble-corrplot
#| fig-cap: "Figure 4: Bubble-style correlation matrix of bad habits and exam score"

# Correlation matrix
bad_bubble_corr <- data |>
  select(social_media_hours, netflix_hours, exam_score) |>
  cor(use = "complete.obs")

# Bubble matrix plot
corrplot(
  bad_bubble_corr,
  method = "circle",         
  type = "lower",            
  order = "original",        
  tl.col = "black",          
  tl.srt = 45,               
  col = colorRampPalette(c("#d73027", "white", "#1E90FF"))(200), 
  addCoef.col = "black",     
  number.cex = 0.8,          
  diag = FALSE               
)

```

Reasoning: The above chart presents a bubble-style correlation matrix illustrating the relationship between poor student habits (social media use and Netflix viewing) and their final exam scores. The size and color of each circle represent the strength and direction of the correlation between variable pairs. Stronger positive correlations are shown as large blue circles, while stronger negative correlations appear as large red circles. The correlation coefficient between `social_media_hours` and `exam_score` is -0.17, and between `netflix_hours` and `exam_score` is also -0.17. The two bad habit variables themselves show almost no correlation, with a coefficient of 0.01. This indicates that both social media usage and time spent watching Netflix have a weak negative relationship with academic performance. In other words, the more time spent on these activities, the slightly lower the exam scores. However, this correlation is weak and insufficient on its own to explain variations in academic outcomes.

## Results

## Discussion

## References
